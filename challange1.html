<!DOCTYPE html>
<html lang="sq">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sfida 1: Variablat | MÃ«so Programimin</title>

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/challanges.css" />
  <link rel="icon" type="image/png" href="favicon.png" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
  />

  <!-- Monaco Editor -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
</head>

<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="navbar-left">
      <img src="imgs/coding-removebg-preview.png" alt="Logo" class="logo-icon" />
      <span class="logo-text">MÃ«so Programimin</span>
    </div>
    <div class="navbar-right">
      <button class="trial-btn">Trial</button>
      <button class="menu-btn">â˜°</button>
    </div>
  </header>

  <!-- Challenge Layout -->
  <main class="challenge-container vertical-layout">
    <!-- Instructions on top -->
    <section class="instructions-top">
      <h2 class="challenge-title">ğŸ§  Sfida 1: Variablat</h2>
      <p>
        Tani qÃ« ke mÃ«suar pÃ«r <strong>variablat</strong>, Ã«shtÃ« koha tâ€™i pÃ«rdorÃ«sh ato vetÃ«!
      </p>
      <p>
        <strong>Detyra:</strong><br>
        1ï¸âƒ£ Krijo njÃ« variabÃ«l me emrin <code>emri</code> dhe cakto vlerÃ«n tÃ«nde (p.sh. "Qelsim").<br>
        2ï¸âƒ£ Krijo njÃ« tjetÃ«r variabÃ«l <code>vendi</code> dhe cakto vlerÃ«n "KosovÃ«".<br>
        3ï¸âƒ£ PÃ«rdor <code>console.log()</code> pÃ«r tâ€™i shfaqur tÃ« dyja nÃ« ekran.
      </p>
      <p>
        Kur tÃ« jesh gati, kliko <strong>â€œEkzekuto Kodinâ€</strong> pÃ«r ta testuar zgjidhjen tÃ«nde.
      </p>

      <div class="lesson-nav top-nav">
        <a href="lesson1.html" class="nav-btn back-btn">â† Kthehu te MÃ«simi</a>
      </div>
    </section>

    <!-- Editor & Output below -->
    <section class="editor-bottom">
      <h2 class="challenge-title">ğŸ’» Shkruaj Kodin TÃ«nd</h2>

      <!-- Monaco Code Editor -->
      <div id="editor" class="monaco-editor"></div>

      <!-- Run Button -->
      <button id="run-btn">Ekzekuto Kodin</button>

      <!-- Output Box -->
      <div id="output"></div>

      <!-- Next Lesson Button (appears after running code) -->
      <div class="next-lesson" id="nextLesson" style="display:none;">
        <a href="lesson2.html" class="next-btn">Shko te mÃ«simi tjetÃ«r â†’</a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-bottom">
      <p>Â© 2025 MÃ«so Programimin | Krijuar nga <span>Qelsim Rraci</span></p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    // Load Monaco Editor
    require.config({ paths: { vs: "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs" }});
    require(["vs/editor/editor.main"], function () {
      window.editor = monaco.editor.create(document.getElementById("editor"), {
        value: `// Shkruaj kodin tÃ«nd kÃ«tu\nlet emri = "Qelsim";\nlet vendi = "KosovÃ«";\n\nconsole.log(emri);\nconsole.log(vendi);`,
        language: "javascript",
        theme: "vs-dark",
        fontSize: 16,
        automaticLayout: true,
        minimap: { enabled: false },
      });
    });

    // Run code button
    document.getElementById("run-btn").addEventListener("click", () => {
      const code = window.editor.getValue();
      const output = document.getElementById("output");
      output.textContent = "";

      const logs = [];
      const originalLog = console.log;
      console.log = (...args) => logs.push(args.join(" "));

      try {
        eval(code);
        output.innerHTML = logs.length ? logs.join("<br>") : "<em>(nuk ka output)</em>";

        // Show next lesson button after running code
        document.getElementById("nextLesson").style.display = "block";
      } catch (err) {
        output.textContent = "âš ï¸ Gabim: " + err.message;
      }
      console.log = originalLog;
    });
  </script>
</body>
</html>
